{"remainingRequest":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/src/components/ListMessages.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/src/components/ListMessages.vue","mtime":1620386710337},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucG9zdCB7CiAgZGlzcGxheTogYmxvY2s7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDM1MHB4OwogICZfX2ltYWdlIHsKICAgIG1heC13aWR0aDogMTAwJTsKICAgIG1heC1oZWlnaHQ6IDEwMCU7CiAgICAmOmZvY3VzIHsKICAgICAgb3V0bGluZTogbm9uZTsKICAgIH0KICB9Cn0KQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogMjgwcHgpIGFuZCAobWF4LXdpZHRoOiA3NjlweCkgewogIC5wb3N0IHsKICAgIGhlaWdodDogMjMwcHg7CiAgfQp9Cg=="},{"version":3,"sources":["ListMessages.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListMessages.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <b-row class=\"row justify-content-center align-items-center flex-column\">\n      <b-col cols=\"12\" lg=\"6\" v-for=\"post in posts.list\" :key=\"post.id\">\n        <Post :post=\"post\" />\n      </b-col>\n    </b-row>\n\n    <p class=\"mx-2\">{{ posts.errorMessage }}</p>\n  </div>\n</template>\n\n<script>\nimport router from '../router/index'\nimport { mapState, mapActions } from 'vuex'\nimport Post from './Post'\nexport default {\n  name: 'PostsList',\n  components: {\n    Post\n  },\n  props: ['userId'],\n  async mounted () {\n    await this.initializePostStore(this.queryParams)\n  },\n  created () {\n    window.addEventListener('scroll', this.handleScroll)\n  },\n  destroyed () {\n    window.removeEventListener('scroll', this.handleScroll)\n  },\n  methods: {\n    ...mapActions(['initializePostStore', 'loadMore']),\n    handleScroll (event) {\n      const totalHeight = document.documentElement.scrollHeight\n      const scrollHeight = window.scrollY + window.innerHeight\n      const remainingOffset = totalHeight - scrollHeight\n      if (remainingOffset < 300) {\n        this.loadMore(this.queryParams)\n      }\n    }\n  },\n  computed: {\n    ...mapState(['posts']),\n    queryParams () {\n      if (this.userId) {\n        return { userId: this.userId }\n      } else {\n        return {}\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.post {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 350px;\n  &__image {\n    max-width: 100%;\n    max-height: 100%;\n    &:focus {\n      outline: none;\n    }\n  }\n}\n@media screen and (min-width: 280px) and (max-width: 769px) {\n  .post {\n    height: 230px;\n  }\n}\n</style>"]}]}