{"remainingRequest":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/src/components/Signup.vue?vue&type=style&index=0&id=64e46970&scoped=true&lang=css&","dependencies":[{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/src/components/Signup.vue","mtime":1620667573517},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/selene/Desktop/Web_developer/P7_veron_germain/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouc2lnbmluIHsKICAgIG1hcmdpbi10b3A6IDIwcHg7Cn0KLmJ0biB7CiAgICBtYXJnaW4tYm90dG9tOiAyMHB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLmVycm9yIHsKICAgIGNvbG9yOiByZWQ7CiAgICBmb250LXdlaWdodDogYm9sZDsKfQo="},{"version":3,"sources":["Signup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Signup.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div class=\"bg-primary\">\n<div class=\"card login col-sm-6 mx-auto bg-white my-25\">\n    <h3 class=\"text-secondary\">Créer un compte</h3>\n\n<form id=\"form\"\n    @submit.prevent=\"signup()\"\n    method=\"post\"\n    novalidate=\"true\">\n\n    <div class=\"form-group form-group-sm\" :class=\"{ 'form-group--error': $v.pseudo.$error }\">\n    <div class=\"col-sm-4 mx-auto\">\n        <label for=\"pseudo\">Pseudo</label>\n    <div class=\"input-group\">\n        <span class=\"input-group-addon bg-info\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-person-fill\" viewBox=\"0 0 16 16\">\n  <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\"/>\n</svg></span>\n        <input\n            id=\"pseudo\"\n            name=\"pseudo\"\n            type=\"text\"\n            class=\"form-control form-control-sm\"\n            v-model.trim=\"$v.pseudo.$model\"\n            >\n        </div>\n        <span class=\"error\" v-if=\"!$v.pseudo.required\">Pseudo manquant</span>\n    </div>\n    </div>\n\n    <div class=\"form-group form-group-sm\" :class=\"{ 'form-group--error': $v.email.$error }\">\n    <div class=\"col-sm-4 mx-auto\">\n        <label for=\"email\">Email</label>\n    <div class=\"input-group\">\n        <span class=\"input-group-addon bg-info\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-envelope-fill\" viewBox=\"0 0 16 16\">\n  <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z\"/>\n</svg></span>\n        <input\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            class=\"form-control form-control-sm\"\n            v-model.trim=\"$v.email.$model\"\n            >\n        </div>\n        <span class=\"error\" v-if=\"!$v.email.required\">Email manquant</span>\n    </div>\n    </div>\n\n    <div class=\"form-group form-group-sm\" :class=\"{ 'form-group--error': $v.password.$error }\">\n    <div class=\"col-sm-4 mx-auto\">\n        <label for=\"password\">Mot de passe</label>\n    <div class=\"input-group\">\n        <span class=\"input-group-addon bg-info\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-file-lock2-fill\" viewBox=\"0 0 16 16\">\n            <path d=\"M7 6a1 1 0 0 1 2 0v1H7V6z\"/>\n            <path d=\"M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm-2 6v1.076c.54.166 1 .597 1 1.224v2.4c0 .816-.781 1.3-1.5 1.3h-3c-.719 0-1.5-.484-1.5-1.3V8.3c0-.627.46-1.058 1-1.224V6a2 2 0 1 1 4 0z\"/>\n            </svg>\n        </span>\n        <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            class=\"form-control form-control-sm\"\n            v-model.trim=\"$v.password.$model\"\n           >\n        </div>\n        <span class=\"error\" v-if=\"!$v.password.required\">Mot de passe manquant</span> <br>\n        <span class=\"error\" v-if=\"!$v.password.minLength\">{{$v.password.$params.minLength.min}} caractères min !.</span>\n    </div>\n    </div>\n    \n    <button class=\"btn btn-dark btn-sm\" type=\"submit\" @click.prevent=\"signup\">S'inscrire</button>\n    </form>\n    \n</div>\n</div>\n</template>\n\n\n<script>\nimport {required, minLength, email} from \"vuelidate/lib/validators\"; \nimport axios from \"axios\";\nexport default {\nname: 'signup',\ndata() {\n    return {\n    pseudo: \"\",\n    email: \"\",\n    password: \"\",\n    submited: false,\n    user: null,\n    }\n},\nvalidations: {\n    pseudo: {\n        required,\n    },\n    email: {\n        required,\n        email\n    },\n    password: {\n        required,\n        minLength: minLength(6)\n    }\n},\nmethods:{\n signup() {\n      this.$v.$touch();\n        this.submited = true;\n        if (this.pseudo && this.email && this.password) {\n    axios.post( 'http://localhost:3000/api/auth/signup', {\n              pseudo: this.pseudo,\n              email: this.email,\n              password: this.password\n          })\n          .then(res => {\n              localStorage.setItem(\"pseudo\", res.data.pseudo);\n              console.log(res);\n              alert(\"Merci ! Votre compte est bien crée\");\n              location.href = \"/login\";\n          })\n          .catch(error => {\n              console.log(\"quelquechose s'est mal passé :(\" + (error));\n          })\n            }   \n        }\n    }\n} \n</script>\n\n<style scoped>\n.signin {\n    margin-top: 20px;\n}\n.btn {\n    margin-bottom: 20px;\n    font-weight: bold;\n}\n.error {\n    color: red;\n    font-weight: bold;\n}\n</style>"]}]}