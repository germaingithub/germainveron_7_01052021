(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-640dc3ee","chunk-4badaa7c"],{"206d":function(t,e,s){"use strict";s("4413")},4413:function(t,e,s){},"4cb7":function(t,e,s){},"4e68":function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var a=s("a18c");class r{constructor(){this.baseUrl="http://localhost:8081/"}headers(t={}){const e=t.isFormData?{}:{"Content-Type":"application/json"};return{...e}}get(t){return fetch(this.baseUrl+t,{headers:this.headers()}).then(t=>(401===t.status&&(localStorage.clear(),a["a"].push({name:"Login"})),t.json())).catch(()=>alert("Impossible de récupérer les données de l'API"))}post(t,e,s={}){return fetch(this.baseUrl+t,{method:"POST",body:s.isFormData?e:JSON.stringify(e),headers:this.headers(s)}).then(t=>this.handleResponse(t))}delete(t){return fetch(this.baseUrl+t,{method:"DELETE",headers:this.headers()}).then(t=>this.handleResponse(t))}async handleResponse(t){if(!t.status.toString().match(/20[01]/))throw await t.json();return t.json()}}const i=new r},a55b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container"},[s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"text-center justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"4"}},[s("b-card",{staticClass:"account-card border-0 shadow p-3 mb-5 mt-3 bg-white rounded"},[s("div",{staticClass:"pt-sm-3 pt-lg-0"},[s("b-card-text",{staticClass:"login-text h4"},[t._v("Se connecter")]),s("b-form",[s("b-form-group",[s("b-form-input",{staticClass:"account-input text-dark mb-2 mt-4 pl-3 w-100",attrs:{id:"email",type:"email",placeholder:"Email","aria-label":"Écrire votre adresse mail"},model:{value:t.input.email,callback:function(e){t.$set(t.input,"email",e)},expression:"input.email"}}),s("b-form-input",{staticClass:"account-input text-dark mb-2 pl-3 w-100",attrs:{id:"password",type:"password",placeholder:"Mot de passe","aria-label":"Écrire votre mot de passe"},model:{value:t.input.password,callback:function(e){t.$set(t.input,"password",e)},expression:"input.password"}})],1),s("button",{staticClass:"account-btn font-weight-bold",attrs:{type:"submit",id:"login-button","aria-label":"Connexion"},on:{click:function(e){return e.stopPropagation(),t.login()}}},[t._v(" Connexion ")]),s("p",{staticClass:"my-3 text-danger"},[t._v(t._s(t.errorMessage))])],1)],1),s("div",{staticClass:"line my-3"}),s("p",{staticClass:"font-small grey-text d-flex justify-content-center mb-1"},[t._v(" Vous n'êtes pas encore inscrit ? "),s("router-link",{staticClass:"font-weight-bold ml-1",attrs:{to:"/signup"}},[t._v(" Créer un compte")])],1)])],1)],1)],1)],1)},r=[],i=s("c3f0"),n=s("4e68"),o=s("a18c"),l={name:"Login",components:{Signup:i["default"]},props:["notification"],data(){return{errorMessage:"",input:{email:"",password:""}}},mounted(){this.$route.query.deletedAccount&&this.$bvToast.toast("Votre compte a bien été supprimé",{title:"Notification",autoHideDelay:4e3})},methods:{login(){""!=this.input.email&&""!=this.input.password?n["a"].post("api/users/login/",this.input).then(t=>{t.token?(localStorage.setItem("userToken",t.token),localStorage.setItem("userData",JSON.stringify(t.username)),o["a"].push({name:"CreateMessage"})):this.errorMessage="Utilisateur introuvable"}).catch(t=>{if(t.error)return this.errorMessage=t.error;this.errorMessage="Problème de connexion"}):this.errorMessage="Veuillez renseigner un email et un mot de passe"}}},c=l,u=(s("206d"),s("2877")),p=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=p.exports},c3f0:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-container"},[s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"text-center justify-content-center"},[s("b-col",{attrs:{cols:"12",lg:"4"}},[s("b-card",{staticClass:"account-card border-0 shadow p-3 mb-5 mt-3 bg-white rounded"},[s("div",{staticClass:"pt-sm-3 pt-lg-0"},[s("b-card-text",{staticClass:"login-text h4"},[t._v("S'inscrire")]),s("b-form",[s("b-form-group",[s("b-form-input",{staticClass:"account-input text-dark mb-2 pl-3 w-100",attrs:{id:"email",type:"email",placeholder:"Email","aria-label":"Écrire votre adresse mail"},model:{value:t.input.email,callback:function(e){t.$set(t.input,"email",e)},expression:"input.email"}}),s("b-form-input",{staticClass:"account-input text-dark mb-2 mt-4 pl-3 w-100",attrs:{id:"username",type:"text",placeholder:"username","aria-label":"Écrire votre prénom"},model:{value:t.input.username,callback:function(e){t.$set(t.input,"username",e)},expression:"input.username"}}),s("b-form-input",{staticClass:"account-input text-dark mb-2 pl-3 w-100",attrs:{id:"password",type:"password",placeholder:"Mot de passe","aria-label":"Écrire votre mot de passe"},model:{value:t.input.password,callback:function(e){t.$set(t.input,"password",e)},expression:"input.password"}}),s("b-form-input",{staticClass:"account-input text-dark mb-2 pl-3 w-100",attrs:{id:"bio",type:"text",placeholder:"bio","aria-label":"Écrire votre nom"},model:{value:t.input.bio,callback:function(e){t.$set(t.input,"bio",e)},expression:"input.bio"}})],1),s("button",{staticClass:"account-btn font-weight-bold",attrs:{type:"submit",id:"Signup-button","aria-label":"S'inscrire"},on:{click:function(e){return e.stopPropagation(),t.Signup()}}},[t._v(" Inscription ")]),s("p",{staticClass:"my-3 text-danger"},[t._v(t._s(t.errorMessage))])],1)],1),s("div",{staticClass:"line my-3"}),s("p",{staticClass:"font-small grey-text d-flex justify-content-center mb-1"},[t._v(" Vous avez déjà un compte ? "),s("router-link",{staticClass:"font-weight-bold ml-1",attrs:{to:"/users/login"}},[t._v(" Se connecter")])],1)])],1)],1)],1)],1)},r=[],i=s("4e68"),n=(s("a18c"),{name:"Signup",data(){return{errorMessage:"",input:{email:"",username:"",password:"",bio:""}}},methods:{Signup(){""!=this.input.email&&""!=this.input.username&&""!=this.input.password&&""!=this.input.bio?i["a"].post("api/users/register/",this.input).then(t=>{this.data=t.data,alert("Merci ! Votre compte est bien crée"),location.href="http://localhost:8080/?#/users/login/"}).catch(t=>{if(t.error)return this.errorMessage=t.error.errors[0].message;this.errorMessage="Problème de connexion"}):this.errorMessage="Veuillez renseigner un email et un mot de passe"}}}),o=n,l=(s("cae8"),s("2877")),c=Object(l["a"])(o,a,r,!1,null,null,null);e["default"]=c.exports},cae8:function(t,e,s){"use strict";s("4cb7")}}]);
//# sourceMappingURL=chunk-640dc3ee.5fc3fb7e.js.map